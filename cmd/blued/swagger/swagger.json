{"swagger":"2.0","info":{"title":"The bluelens API","description":"This API provides a set of endpoints to manage users' followees, music history and recommendations.","license":{"name":"MIT","url":"https://github.com/ihcsim/bluelens/blob/master/LICENSE"},"version":""},"host":"localhost:8080","schemes":["http"],"consumes":["application/json"],"produces":["application/json"],"paths":{"/bluelens/music":{"get":{"tags":["music"],"summary":"list music","description":"List up to N music resources. N can be adjusted using the 'limit' and 'offset' parameters.","operationId":"music#list","parameters":[{"name":"limit","in":"query","required":false,"type":"integer","default":20},{"name":"offset","in":"query","required":false,"type":"integer","default":0}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BluelensMusicCollection"}}},"schemes":["http"]},"post":{"tags":["music"],"summary":"create music","operationId":"music#create","parameters":[{"name":"payload","in":"body","description":"A music resource","required":true,"schema":{"$ref":"#/definitions/music"}}],"responses":{"201":{"description":"Created","schema":{"$ref":"#/definitions/BluelensMusicLink"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"/bluelens/music/{id}":{"get":{"tags":["music"],"summary":"show music","description":"Get a music resource with the given ID","operationId":"music#show","parameters":[{"name":"id","in":"path","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BluelensMusicFull"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"/bluelens/recommendations/{userID}/{limit}":{"get":{"tags":["recommendations"],"summary":"recommend recommendations","description":"Make music recommendations for a user.","operationId":"recommendations#recommend","parameters":[{"name":"limit","in":"path","description":"Maximum number of recommendations to be returned to the user. Set to zero to use server's default.","required":true,"type":"integer","minimum":0},{"name":"userID","in":"path","description":"ID of the user these recommendations are meant for.","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BluelensRecommendations"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"/bluelens/user":{"get":{"tags":["user"],"summary":"list user","description":"List up to N user resources. N can be adjusted using the 'limit' and 'offset' parameters.","operationId":"user#list","parameters":[{"name":"limit","in":"query","required":false,"type":"integer","default":20},{"name":"offset","in":"query","required":false,"type":"integer","default":0}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BluelensUserCollection"}}},"schemes":["http"]},"post":{"tags":["user"],"summary":"create user","operationId":"user#create","parameters":[{"name":"payload","in":"body","description":"A user resource","required":true,"schema":{"$ref":"#/definitions/user"}}],"responses":{"201":{"description":"Created","schema":{"$ref":"#/definitions/BluelensUserLink"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"/bluelens/user/{id}":{"get":{"tags":["user"],"summary":"show user","description":"Get a user resource with the given ID.","operationId":"user#show","parameters":[{"name":"id","in":"path","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BluelensUserFull"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"/bluelens/user/{id}/follows/{followeeID}":{"post":{"tags":["user"],"summary":"follow user","description":"Update a user's followees list with a new followee.","operationId":"user#follow","parameters":[{"name":"followeeID","in":"path","required":true,"type":"string"},{"name":"id","in":"path","required":true,"type":"string"},{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/FollowUserPayload"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BluelensUser"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"/bluelens/user/{id}/listen/{musicID}":{"post":{"tags":["user"],"summary":"listen user","description":"Add a music to a user's history.","operationId":"user#listen","parameters":[{"name":"id","in":"path","required":true,"type":"string"},{"name":"musicID","in":"path","required":true,"type":"string"},{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/ListenUserPayload"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BluelensUser"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"/swagger.json":{"get":{"summary":"Download server/swagger/swagger.json","operationId":"swagger#/swagger.json","responses":{"200":{"description":"File downloaded","schema":{"type":"file"}}},"schemes":["http"]}}},"definitions":{"BluelensMusic":{"title":"Mediatype identifier: application/vnd.bluelens.music+json; view=default","type":"object","properties":{"href":{"type":"string","example":"Velit rerum et et ut."},"id":{"type":"string","example":"Necessitatibus exercitationem."},"tags":{"type":"array","items":{"type":"string","example":"Cumque dolorum dolorem voluptas eveniet."},"example":["Cumque dolorum dolorem voluptas eveniet.","Cumque dolorum dolorem voluptas eveniet.","Cumque dolorum dolorem voluptas eveniet."]}},"description":"Media type of a music resource (default view)","example":{"href":"Velit rerum et et ut.","id":"Necessitatibus exercitationem.","tags":["Cumque dolorum dolorem voluptas eveniet.","Cumque dolorum dolorem voluptas eveniet.","Cumque dolorum dolorem voluptas eveniet."]},"required":["id","href"]},"BluelensMusicCollection":{"title":"Mediatype identifier: application/vnd.bluelens.music+json; type=collection; view=default","type":"array","items":{"$ref":"#/definitions/BluelensMusic"},"description":"BluelensMusicCollection is the media type for an array of BluelensMusic (default view)","example":[{"href":"Velit rerum et et ut.","id":"Necessitatibus exercitationem.","tags":["Cumque dolorum dolorem voluptas eveniet.","Cumque dolorum dolorem voluptas eveniet.","Cumque dolorum dolorem voluptas eveniet."]},{"href":"Velit rerum et et ut.","id":"Necessitatibus exercitationem.","tags":["Cumque dolorum dolorem voluptas eveniet.","Cumque dolorum dolorem voluptas eveniet.","Cumque dolorum dolorem voluptas eveniet."]}]},"BluelensMusicFull":{"title":"Mediatype identifier: application/vnd.bluelens.music+json; view=full","type":"object","properties":{"href":{"type":"string","example":"Velit rerum et et ut."},"id":{"type":"string","example":"Necessitatibus exercitationem."},"tags":{"type":"array","items":{"type":"string","example":"Cumque dolorum dolorem voluptas eveniet."},"example":["Cumque dolorum dolorem voluptas eveniet.","Cumque dolorum dolorem voluptas eveniet.","Cumque dolorum dolorem voluptas eveniet."]}},"description":"Media type of a music resource (full view)","example":{"href":"Velit rerum et et ut.","id":"Necessitatibus exercitationem.","tags":["Cumque dolorum dolorem voluptas eveniet.","Cumque dolorum dolorem voluptas eveniet.","Cumque dolorum dolorem voluptas eveniet."]},"required":["id","href"]},"BluelensMusicLink":{"title":"Mediatype identifier: application/vnd.bluelens.music+json; view=link","type":"object","properties":{"href":{"type":"string","example":"Velit rerum et et ut."}},"description":"Media type of a music resource (link view)","example":{"href":"Velit rerum et et ut."},"required":["href"]},"BluelensMusicLinkCollection":{"title":"Mediatype identifier: application/vnd.bluelens.music+json; type=collection; view=default","type":"array","items":{"$ref":"#/definitions/BluelensMusicLink"},"description":"BluelensMusicLinkCollection is the media type for an array of BluelensMusicLink (default view)","example":[{"href":"Velit rerum et et ut.","id":"Necessitatibus exercitationem.","tags":["Cumque dolorum dolorem voluptas eveniet.","Cumque dolorum dolorem voluptas eveniet.","Cumque dolorum dolorem voluptas eveniet."]},{"href":"Velit rerum et et ut.","id":"Necessitatibus exercitationem.","tags":["Cumque dolorum dolorem voluptas eveniet.","Cumque dolorum dolorem voluptas eveniet.","Cumque dolorum dolorem voluptas eveniet."]}]},"BluelensRecommendations":{"title":"Mediatype identifier: application/vnd.bluelens.recommendations+json; view=default","type":"object","properties":{"links":{"$ref":"#/definitions/BluelensRecommendationsLinks"},"musicID":{"type":"array","items":{"type":"string","example":"Ratione sed ullam aut."},"example":["Ratione sed ullam aut.","Ratione sed ullam aut.","Ratione sed ullam aut."]}},"description":"A list of recommendations for the specified user (default view)","example":{"links":{"list":[{"href":"Velit rerum et et ut."},{"href":"Velit rerum et et ut."}],"user":{"href":"Eum deleniti id."}},"musicID":["Ratione sed ullam aut.","Ratione sed ullam aut.","Ratione sed ullam aut."]}},"BluelensRecommendationsLinks":{"title":"BluelensRecommendationsLinks","type":"object","properties":{"list":{"$ref":"#/definitions/BluelensMusicLinkCollection"},"user":{"$ref":"#/definitions/BluelensUserLink"}},"description":"BluelensRecommendationsLinks contains links to related resources of BluelensRecommendations.","example":{"list":[{"href":"Velit rerum et et ut."},{"href":"Velit rerum et et ut."}],"user":{"href":"Eum deleniti id."}}},"BluelensUser":{"title":"Mediatype identifier: application/vnd.bluelens.user+json; view=default","type":"object","properties":{"href":{"type":"string","example":"Dignissimos dolore aliquam dolores unde qui."},"id":{"type":"string","example":"Ut fugiat hic."},"links":{"$ref":"#/definitions/BluelensUserLinks"}},"description":"Media type of a user resource (default view)","example":{"href":"Dignissimos dolore aliquam dolores unde qui.","id":"Ut fugiat hic.","links":{"followees":[{"href":"Eum deleniti id."},{"href":"Eum deleniti id."}],"history":[{"href":"Velit rerum et et ut."}]}},"required":["id","href"]},"BluelensUserCollection":{"title":"Mediatype identifier: application/vnd.bluelens.user+json; type=collection; view=default","type":"array","items":{"$ref":"#/definitions/BluelensUser"},"description":"BluelensUserCollection is the media type for an array of BluelensUser (default view)","example":[{"href":"Dignissimos dolore aliquam dolores unde qui.","id":"Ut fugiat hic.","links":{"followees":[{"href":"Eum deleniti id."},{"href":"Eum deleniti id."}],"history":[{"href":"Velit rerum et et ut."}]}},{"href":"Dignissimos dolore aliquam dolores unde qui.","id":"Ut fugiat hic.","links":{"followees":[{"href":"Eum deleniti id."},{"href":"Eum deleniti id."}],"history":[{"href":"Velit rerum et et ut."}]}},{"href":"Dignissimos dolore aliquam dolores unde qui.","id":"Ut fugiat hic.","links":{"followees":[{"href":"Eum deleniti id."},{"href":"Eum deleniti id."}],"history":[{"href":"Velit rerum et et ut."}]}}]},"BluelensUserFull":{"title":"Mediatype identifier: application/vnd.bluelens.user+json; view=full","type":"object","properties":{"followees":{"$ref":"#/definitions/BluelensUserCollection"},"history":{"$ref":"#/definitions/BluelensMusicCollection"},"href":{"type":"string","example":"Dolorem consequuntur nisi ipsam quo et."},"id":{"type":"string","example":"Alias sed nisi quis voluptatem quis."}},"description":"Media type of a user resource (full view)","example":{"followees":[{"href":"Dignissimos dolore aliquam dolores unde qui.","id":"Ut fugiat hic.","links":{"followees":[{"href":"Eum deleniti id."},{"href":"Eum deleniti id."}],"history":[{"href":"Velit rerum et et ut."}]}},{"href":"Dignissimos dolore aliquam dolores unde qui.","id":"Ut fugiat hic.","links":{"followees":[{"href":"Eum deleniti id."},{"href":"Eum deleniti id."}],"history":[{"href":"Velit rerum et et ut."}]}},{"href":"Dignissimos dolore aliquam dolores unde qui.","id":"Ut fugiat hic.","links":{"followees":[{"href":"Eum deleniti id."},{"href":"Eum deleniti id."}],"history":[{"href":"Velit rerum et et ut."}]}}],"history":[{"href":"Velit rerum et et ut.","id":"Necessitatibus exercitationem.","tags":["Cumque dolorum dolorem voluptas eveniet.","Cumque dolorum dolorem voluptas eveniet.","Cumque dolorum dolorem voluptas eveniet."]}],"href":"Dolorem consequuntur nisi ipsam quo et.","id":"Alias sed nisi quis voluptatem quis."},"required":["id","href"]},"BluelensUserLink":{"title":"Mediatype identifier: application/vnd.bluelens.user+json; view=link","type":"object","properties":{"href":{"type":"string","example":"Eum deleniti id."}},"description":"Media type of a user resource (link view)","example":{"href":"Eum deleniti id."},"required":["href"]},"BluelensUserLinkCollection":{"title":"Mediatype identifier: application/vnd.bluelens.user+json; type=collection; view=default","type":"array","items":{"$ref":"#/definitions/BluelensUserLink"},"description":"BluelensUserLinkCollection is the media type for an array of BluelensUserLink (default view)","example":[{"href":"Eum deleniti id."},{"href":"Eum deleniti id."}]},"BluelensUserLinks":{"title":"BluelensUserLinks","type":"object","properties":{"followees":{"$ref":"#/definitions/BluelensUserLinkCollection"},"history":{"$ref":"#/definitions/BluelensMusicLinkCollection"}},"description":"BluelensUserLinks contains links to related resources of BluelensUser.","example":{"followees":[{"href":"Eum deleniti id."},{"href":"Eum deleniti id."}],"history":[{"href":"Velit rerum et et ut."}]}},"FollowUserPayload":{"title":"FollowUserPayload","type":"object","properties":{"followeeID":{"type":"string","description":"ID of the followee.","example":"Praesentium aperiam magni."}},"example":{"followeeID":"Praesentium aperiam magni."}},"ListenUserPayload":{"title":"ListenUserPayload","type":"object","properties":{"musicID":{"type":"string","description":"ID of the music.","example":"Qui non rerum ullam velit."}},"example":{"musicID":"Qui non rerum ullam velit."}},"error":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"code":{"type":"string","description":"an application-specific error code, expressed as a string value.","example":"invalid_value"},"detail":{"type":"string","description":"a human-readable explanation specific to this occurrence of the problem.","example":"Value of ID must be an integer"},"id":{"type":"string","description":"a unique identifier for this particular occurrence of the problem.","example":"3F1FKVRR"},"meta":{"type":"object","description":"a meta object containing non-standard meta-information about the error.","example":{"timestamp":1458609066},"additionalProperties":true},"status":{"type":"string","description":"the HTTP status code applicable to this problem, expressed as a string value.","example":"400"}},"description":"Error response media type (default view)","example":{"code":"invalid_value","detail":"Value of ID must be an integer","id":"3F1FKVRR","meta":{"timestamp":1458609066},"status":"400"}},"music":{"title":"music","type":"object","properties":{"id":{"type":"string","example":"Exercitationem architecto dolorum quis dignissimos odio."},"tags":{"type":"array","items":{"type":"string","example":"Cumque dolorum dolorem voluptas eveniet."},"example":["Cumque dolorum dolorem voluptas eveniet."]}},"description":"A music resource","example":{"id":"Exercitationem architecto dolorum quis dignissimos odio.","tags":["Cumque dolorum dolorem voluptas eveniet."]},"required":["id"]},"user":{"title":"user","type":"object","properties":{"followees":{"type":"array","items":{"$ref":"#/definitions/user"},"example":[{"followees":[{"history":[{"id":"Exercitationem architecto dolorum quis dignissimos odio.","tags":["Cumque dolorum dolorem voluptas eveniet."]}],"id":"Iste saepe quam."},{"history":[{"id":"Exercitationem architecto dolorum quis dignissimos odio.","tags":["Cumque dolorum dolorem voluptas eveniet."]}],"id":"Iste saepe quam."},{"history":[{"id":"Exercitationem architecto dolorum quis dignissimos odio.","tags":["Cumque dolorum dolorem voluptas eveniet."]}],"id":"Iste saepe quam."}],"history":[{"id":"Exercitationem architecto dolorum quis dignissimos odio.","tags":["Cumque dolorum dolorem voluptas eveniet."]}],"id":"Iste saepe quam."},{"followees":[{"history":[{"id":"Exercitationem architecto dolorum quis dignissimos odio.","tags":["Cumque dolorum dolorem voluptas eveniet."]}],"id":"Iste saepe quam."},{"history":[{"id":"Exercitationem architecto dolorum quis dignissimos odio.","tags":["Cumque dolorum dolorem voluptas eveniet."]}],"id":"Iste saepe quam."},{"history":[{"id":"Exercitationem architecto dolorum quis dignissimos odio.","tags":["Cumque dolorum dolorem voluptas eveniet."]}],"id":"Iste saepe quam."}],"history":[{"id":"Exercitationem architecto dolorum quis dignissimos odio.","tags":["Cumque dolorum dolorem voluptas eveniet."]}],"id":"Iste saepe quam."}]},"history":{"type":"array","items":{"$ref":"#/definitions/music"},"example":[{"id":"Exercitationem architecto dolorum quis dignissimos odio.","tags":["Cumque dolorum dolorem voluptas eveniet."]}]},"id":{"type":"string","example":"Iste saepe quam."}},"description":"A user resource","example":{"followees":[{"followees":[{"history":[{"id":"Exercitationem architecto dolorum quis dignissimos odio.","tags":["Cumque dolorum dolorem voluptas eveniet."]}],"id":"Iste saepe quam."},{"history":[{"id":"Exercitationem architecto dolorum quis dignissimos odio.","tags":["Cumque dolorum dolorem voluptas eveniet."]}],"id":"Iste saepe quam."},{"history":[{"id":"Exercitationem architecto dolorum quis dignissimos odio.","tags":["Cumque dolorum dolorem voluptas eveniet."]}],"id":"Iste saepe quam."}],"history":[{"id":"Exercitationem architecto dolorum quis dignissimos odio.","tags":["Cumque dolorum dolorem voluptas eveniet."]}],"id":"Iste saepe quam."},{"followees":[{"history":[{"id":"Exercitationem architecto dolorum quis dignissimos odio.","tags":["Cumque dolorum dolorem voluptas eveniet."]}],"id":"Iste saepe quam."},{"history":[{"id":"Exercitationem architecto dolorum quis dignissimos odio.","tags":["Cumque dolorum dolorem voluptas eveniet."]}],"id":"Iste saepe quam."},{"history":[{"id":"Exercitationem architecto dolorum quis dignissimos odio.","tags":["Cumque dolorum dolorem voluptas eveniet."]}],"id":"Iste saepe quam."}],"history":[{"id":"Exercitationem architecto dolorum quis dignissimos odio.","tags":["Cumque dolorum dolorem voluptas eveniet."]}],"id":"Iste saepe quam."}],"history":[{"id":"Exercitationem architecto dolorum quis dignissimos odio.","tags":["Cumque dolorum dolorem voluptas eveniet."]}],"id":"Iste saepe quam."},"required":["id"]}},"responses":{"OK":{"description":"OK","schema":{"$ref":"#/definitions/BluelensRecommendations"}}},"externalDocs":{"description":"Swagger docs","url":"http://localhost:8080/swagger.json"}}